!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},t=(e,t,r)=>{const n=e.querySelector(`#${t.id}-error`);t.classList.remove(r.inputErrorClass),n.classList.remove(r.errorClass),n.textContent=""},r=(e,t,r)=>{(e=>e.some(e=>!e.validity.valid))(e)?(t.classList.add(r.inactiveButtonClass),t.disabled=!0):(t.classList.remove(r.inactiveButtonClass),t.disabled=!1)},n=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}_handleServerResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._handleServerResponse)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._handleServerResponse)}getAppInfo(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}editUserInfo({name:e,about:t}){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._handleServerResponse)}editAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._handleServerResponse)}addCard({name:e,link:t}){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._handleServerResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._handleServerResponse)}changeLikeStatus(e,t){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:t?"DELETE":"PUT",headers:this._headers}).then(this._handleServerResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"a512c660-6992-4f0a-871e-f6c291227bd6","Content-Type":"application/json"}}),o=document.querySelector(".profile__name"),a=document.querySelector(".profile__description"),s=document.querySelector(".profile__avatar"),l=document.querySelector("#new-post-modal .modal__button");let c,i;n.getAppInfo().then(([e,t])=>{o.textContent=e.name,a.textContent=e.about,s.src=e.avatar,t.forEach(e=>{const t=N(e);P.append(t)})}).catch(console.error);const d=document.querySelector(".profile__edit-button"),u=document.querySelector("#edit-profile-modal"),m=u.querySelector(".modal__close-button"),_=u.querySelector(".modal__form"),h=u.querySelector("#profile-name-input"),v=u.querySelector("#profile-description-input"),S=document.querySelector(".profile__add-button"),f=document.querySelector("#new-post-modal"),y=f.querySelector(".modal__close-button"),p=f.querySelector(".modal__form"),b=document.querySelector("#avatar-modal"),q=b.querySelector(".modal__form"),C=b.querySelector("#avatar-input"),L=b.querySelector(".modal__close-button"),E=document.querySelector(".profile__avatar-button"),k=f.querySelector("#card-image-input"),g=f.querySelector("#card-caption-input"),x=document.querySelector("#delete-modal"),U=x.querySelector(".modal__form"),A=x.querySelector(".modal__close-button"),$=x.querySelector(".modal__button_type_cancel"),D=document.querySelector("#preview-modal"),I=D.querySelector(".modal__image"),R=D.querySelector(".modal__caption");function T(e){e.classList.add("modal_is-opened"),document.addEventListener("keydown",O)}function w(e){e.classList.remove("modal_is-opened"),document.removeEventListener("keydown",O)}D.querySelector(".modal__close-button").addEventListener("click",()=>{w(D)});const B=document.querySelector("#card-template"),P=document.querySelector(".cards__list");function N(e){const t=B.content.cloneNode(!0).children[0],r=t.querySelector(".card__image"),o=t.querySelector(".card__title"),a=t.querySelector(".card__like-button"),s=t.querySelector(".card__delete-button");return r.src=e.link,r.alt=e.name,o.textContent=e.name,e.isLiked&&a.classList.add("card__like-button_liked"),a.addEventListener("click",()=>{const t=a.classList.contains("card__like-button_liked");n.changeLikeStatus(e._id,t).then(()=>{a.classList.toggle("card__like-button_liked")}).catch(console.error)}),s.addEventListener("click",()=>{c=t,i=e._id,T(x)}),r.addEventListener("click",()=>{I.src=e.link,I.alt=e.name,R.textContent=e.name,T(D)}),t}function O(e){if("Escape"===e.key){const e=document.querySelector(".modal_is-opened");e&&w(e)}}var j;A.addEventListener("click",()=>{w(x)}),$.addEventListener("click",()=>{w(x)}),U.addEventListener("submit",function(e){e.preventDefault();const t=e.submitter;t.textContent="Deleting...",n.deleteCard(i).then(()=>{c.remove(),w(x)}).catch(console.error).finally(()=>{t.textContent="Delete"})}),d.addEventListener("click",()=>{h.value=o.textContent,v.value=a.textContent;const r=u.querySelector(".modal__form"),n=Array.from(r.querySelectorAll(e.inputSelector));((e,r,n)=>{r.forEach(r=>{t(e,r,n)})})(r,n,e),T(u)}),m.addEventListener("click",function(){w(u)}),_.addEventListener("submit",function(e){e.preventDefault();const t=e.submitter;t.textContent="Saving...",n.editUserInfo({name:h.value,about:v.value}).then(e=>{o.textContent=e.name,a.textContent=e.about,w(u)}).catch(console.error).finally(()=>{t.textContent="Save"})}),E.addEventListener("click",()=>{T(b)}),L.addEventListener("click",()=>{w(b)}),q.addEventListener("submit",function(e){e.preventDefault();const t=e.submitter;t.textContent="Saving...",n.editAvatar(C.value).then(t=>{s.src=t.avatar,w(b),e.target.reset()}).catch(console.error).finally(()=>{t.textContent="Save"})}),S.addEventListener("click",function(){T(f)}),y.addEventListener("click",function(){w(f)}),p.addEventListener("submit",function(t){t.preventDefault();const r=t.submitter;r.textContent="Saving...",n.addCard({name:k.value,link:g.value}).then(r=>{const n=N(r);var o,a;P.prepend(n),t.target.reset(),a=e,(o=l).disabled=!0,o.classList.add(a.inactiveButtonClass),w(f)}).catch(console.error).finally(()=>{r.textContent="Create"})}),document.querySelectorAll(".modal").forEach(e=>{e.addEventListener("click",t=>{t.target===e&&w(e)})}),j=e,Array.from(document.querySelectorAll(j.formSelector)).forEach(e=>{e.addEventListener("submit",e=>{e.preventDefault()}),((e,n)=>{const o=Array.from(e.querySelectorAll(n.inputSelector)),a=e.querySelector(n.submitButtonSelector);r(o,a,n),o.forEach(s=>{s.addEventListener("input",()=>{((e,r,n)=>{r.validity.valid?t(e,r,n):((e,t,r,n)=>{const o=e.querySelector(`#${t.id}-error`);t.classList.add(n.inputErrorClass),o.textContent=r,o.classList.add(n.errorClass)})(e,r,r.validationMessage,n)})(e,s,n),r(o,a,n)})})})(e,j)})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQU8sTUFBTUEsRUFBVyxDQUN0QkMsYUFBYyxlQUNkQyxjQUFlLGdCQUNmQyxxQkFBc0IsaUJBQ3RCQyxvQkFBcUIseUJBQ3JCQyxnQkFBaUIsMEJBQ2pCQyxXQUFZLHdCQVVSQyxFQUFpQkEsQ0FBQ0MsRUFBYUMsRUFBY0MsS0FDakQsTUFBTUMsRUFBZUgsRUFBWUksY0FBYyxJQUFJSCxFQUFhSSxZQUNoRUosRUFBYUssVUFBVUMsT0FBT0wsRUFBT0wsaUJBQ3JDTSxFQUFhRyxVQUFVQyxPQUFPTCxFQUFPSixZQUNyQ0ssRUFBYUssWUFBYyxJQXNCdkJDLEVBQW9CQSxDQUFDQyxFQUFXQyxFQUFlVCxLQU41QlEsSUFDaEJBLEVBQVVFLEtBQU1YLElBQ2JBLEVBQWFZLFNBQVNDLE9BSzVCQyxDQUFnQkwsSUFDbEJDLEVBQWNMLFVBQVVVLElBQUlkLEVBQU9OLHFCQUNuQ2UsRUFBY00sVUFBVyxJQUV6Qk4sRUFBY0wsVUFBVUMsT0FBT0wsRUFBT04scUJBQ3RDZSxFQUFjTSxVQUFXLElDOUN2QkMsRUFBTSxJQ0ZaLE1BQ0VDLFdBQUFBLEVBQVksUUFBRUMsRUFBTyxRQUFFQyxJQUNyQkMsS0FBS0MsU0FBV0gsRUFDaEJFLEtBQUtFLFNBQVdILENBQ2xCLENBRUFJLHFCQUFBQSxDQUFzQkMsR0FDcEIsT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFTkMsUUFBUUMsT0FBTyxVQUFVSixFQUFJSyxTQUN0QyxDQUVBQyxlQUFBQSxHQUNFLE9BQU9DLE1BQU0sR0FBR1gsS0FBS0MsaUJBQWtCLENBQ3JDRixRQUFTQyxLQUFLRSxXQUNiVSxLQUFLWixLQUFLRyxzQkFDZixDQUVBVSxXQUFBQSxHQUNFLE9BQU9GLE1BQU0sR0FBR1gsS0FBS0Msb0JBQXFCLENBQ3hDRixRQUFTQyxLQUFLRSxXQUNiVSxLQUFLWixLQUFLRyxzQkFDZixDQUVBVyxVQUFBQSxHQUNFLE9BQU9QLFFBQVFRLElBQUksQ0FBQ2YsS0FBS2EsY0FBZWIsS0FBS1UsbUJBQy9DLENBRUFNLFlBQUFBLEVBQWEsS0FBRUMsRUFBSSxNQUFFQyxJQUNuQixPQUFPUCxNQUFNLEdBQUdYLEtBQUtDLG9CQUFxQixDQUN4Q2tCLE9BQVEsUUFDUnBCLFFBQVNDLEtBQUtFLFNBQ2RrQixLQUFNQyxLQUFLQyxVQUFVLENBQUVMLE9BQU1DLFlBQzVCTixLQUFLWixLQUFLRyxzQkFDZixDQUVBb0IsVUFBQUEsQ0FBV0MsR0FDVCxPQUFPYixNQUFNLEdBQUdYLEtBQUtDLDJCQUE0QixDQUMvQ2tCLE9BQVEsUUFDUnBCLFFBQVNDLEtBQUtFLFNBQ2RrQixLQUFNQyxLQUFLQyxVQUFVLENBQUVFLGFBQ3RCWixLQUFLWixLQUFLRyxzQkFDZixDQUNBc0IsT0FBQUEsRUFBUSxLQUFFUixFQUFJLEtBQUVTLElBQ2QsT0FBT2YsTUFBTSxHQUFHWCxLQUFLQyxpQkFBa0IsQ0FDckNrQixPQUFRLE9BQ1JwQixRQUFTQyxLQUFLRSxTQUNka0IsS0FBTUMsS0FBS0MsVUFBVSxDQUFFTCxPQUFNUyxXQUM1QmQsS0FBS1osS0FBS0csc0JBQ2YsQ0FFQXdCLFVBQUFBLENBQVdDLEdBQ1QsT0FBT2pCLE1BQU0sR0FBR1gsS0FBS0Msa0JBQWtCMkIsSUFBVSxDQUMvQ1QsT0FBUSxTQUNScEIsUUFBU0MsS0FBS0UsV0FDYlUsS0FBS1osS0FBS0csc0JBQ2YsQ0FFQTBCLGdCQUFBQSxDQUFpQkQsRUFBUUUsR0FDdkIsT0FBT25CLE1BQU0sR0FBR1gsS0FBS0Msa0JBQWtCMkIsVUFBZ0IsQ0FDckRULE9BQVFXLEVBQVUsU0FBVyxNQUM3Qi9CLFFBQVNDLEtBQUtFLFdBQ2JVLEtBQUtaLEtBQUtHLHNCQUNmLEdEOURrQixDQUNsQkwsUUFBUyxrREFDVEMsUUFBUyxDQUNQZ0MsY0FBZSx1Q0FDZixlQUFnQixzQkFZZEMsRUFBcUJDLFNBQVNuRCxjQUFjLGtCQUM1Q29ELEVBQTRCRCxTQUFTbkQsY0FDekMseUJBRUlxRCxFQUFnQkYsU0FBU25ELGNBQWMsb0JBRXZDc0QsRUFBc0JILFNBQVNuRCxjQUNuQyxrQ0FHRixJQUFJdUQsRUFDQUMsRUFHSjFDLEVBQ0drQixhQUNBRixLQUFLLEVBQUUyQixFQUFVQyxNQUNoQlIsRUFBbUI5QyxZQUFjcUQsRUFBU3RCLEtBQzFDaUIsRUFBMEJoRCxZQUFjcUQsRUFBU3JCLE1BQ2pEaUIsRUFBY00sSUFBTUYsRUFBU2YsT0FFN0JnQixFQUFNRSxRQUFTQyxJQUNiLE1BQU1DLEVBQWNDLEVBQWVGLEdBQ25DRyxFQUFpQkMsT0FBT0gsT0FHM0JJLE1BQU1DLFFBQVFDLE9BR2pCLE1BQU1DLEVBQW9CbEIsU0FBU25ELGNBQWMseUJBQzNDc0UsRUFBbUJuQixTQUFTbkQsY0FBYyx1QkFDMUN1RSxFQUFzQkQsRUFBaUJ0RSxjQUMzQyx3QkFFSXdFLEVBQWtCRixFQUFpQnRFLGNBQWMsZ0JBQ2pEeUUsRUFBdUJILEVBQWlCdEUsY0FDNUMsdUJBRUkwRSxFQUE4QkosRUFBaUJ0RSxjQUNuRCw4QkFJSTJFLEVBQWdCeEIsU0FBU25ELGNBQWMsd0JBQ3ZDNEUsRUFBZXpCLFNBQVNuRCxjQUFjLG1CQUN0QzZFLEVBQWtCRCxFQUFhNUUsY0FBYyx3QkFDN0M4RSxFQUFjRixFQUFhNUUsY0FBYyxnQkFDekMrRSxFQUFjNUIsU0FBU25ELGNBQWMsaUJBQ3JDZ0YsRUFBYUQsRUFBWS9FLGNBQWMsZ0JBQ3ZDaUYsRUFBY0YsRUFBWS9FLGNBQWMsaUJBQ3hDa0YsRUFBaUJILEVBQVkvRSxjQUFjLHdCQUMzQ21GLEVBQWVoQyxTQUFTbkQsY0FBYywyQkFDdENvRixFQUFpQlIsRUFBYTVFLGNBQWMscUJBQzVDcUYsRUFBbUJULEVBQWE1RSxjQUFjLHVCQUM5Q3NGLEVBQWNuQyxTQUFTbkQsY0FBYyxpQkFDckN1RixFQUFhRCxFQUFZdEYsY0FBYyxnQkFDdkN3RixFQUFpQkYsRUFBWXRGLGNBQWMsd0JBQzNDeUYsRUFBa0JILEVBQVl0RixjQUFjLDhCQUc1QzBGLEVBQWV2QyxTQUFTbkQsY0FBYyxrQkFDdEMyRixFQUFlRCxFQUFhMUYsY0FBYyxpQkFDMUM0RixFQUFpQkYsRUFBYTFGLGNBQWMsbUJBR2xELFNBQVM2RixFQUFVQyxHQUNqQkEsRUFBTTVGLFVBQVVVLElBQUksbUJBQ3BCdUMsU0FBUzRDLGlCQUFpQixVQUFXQyxFQUN2QyxDQUVBLFNBQVNDLEVBQVdILEdBQ2xCQSxFQUFNNUYsVUFBVUMsT0FBTyxtQkFDdkJnRCxTQUFTK0Msb0JBQW9CLFVBQVdGLEVBQzFDLENBVndCTixFQUFhMUYsY0FBYyx3QkFhbkMrRixpQkFBaUIsUUFBUyxLQUN4Q0UsRUFBV1AsS0FJYixNQUFNUyxFQUFlaEQsU0FBU25ELGNBQWMsa0JBQ3RDZ0UsRUFBbUJiLFNBQVNuRCxjQUFjLGdCQUVoRCxTQUFTK0QsRUFBZXFDLEdBQ3RCLE1BQU10QyxFQUFjcUMsRUFBYUUsUUFBUUMsV0FBVSxHQUFNQyxTQUFTLEdBRzVEQyxFQUFtQjFDLEVBQVk5RCxjQUFjLGdCQUM3Q3lHLEVBQW1CM0MsRUFBWTlELGNBQWMsZ0JBQzdDMEcsRUFBaUI1QyxFQUFZOUQsY0FBYyxzQkFDM0MyRyxFQUFtQjdDLEVBQVk5RCxjQUFjLHdCQXdDbkQsT0FyQ0F3RyxFQUFpQjdDLElBQU15QyxFQUFLeEQsS0FDNUI0RCxFQUFpQkksSUFBTVIsRUFBS2pFLEtBQzVCc0UsRUFBaUJyRyxZQUFjZ0csRUFBS2pFLEtBR2hDaUUsRUFBS3BELFNBQ1AwRCxFQUFleEcsVUFBVVUsSUFBSSwyQkFHL0I4RixFQUFlWCxpQkFBaUIsUUFBUyxLQUN2QyxNQUFNL0MsRUFBVTBELEVBQWV4RyxVQUFVMkcsU0FDdkMsMkJBR0YvRixFQUNHaUMsaUJBQWlCcUQsRUFBS1UsSUFBSzlELEdBQzNCbEIsS0FBSyxLQUNKNEUsRUFBZXhHLFVBQVU2RyxPQUFPLDZCQUVqQzdDLE1BQU1DLFFBQVFDLFNBSW5CdUMsRUFBaUJaLGlCQUFpQixRQUFTLEtBQ3pDeEMsRUFBZU8sRUFDZk4sRUFBaUI0QyxFQUFLVSxJQUN0QmpCLEVBQVVQLEtBSVprQixFQUFpQlQsaUJBQWlCLFFBQVMsS0FDekNKLEVBQWFoQyxJQUFNeUMsRUFBS3hELEtBQ3hCK0MsRUFBYWlCLElBQU1SLEVBQUtqRSxLQUN4QnlELEVBQWV4RixZQUFjZ0csRUFBS2pFLEtBQ2xDMEQsRUFBVUgsS0FHTDVCLENBQ1QsQ0FrREEsU0FBU2tDLEVBQWdCZ0IsR0FDdkIsR0FBZ0IsV0FBWkEsRUFBSUMsSUFBa0IsQ0FDeEIsTUFBTUMsRUFBYy9ELFNBQVNuRCxjQUFjLG9CQUN2Q2tILEdBQ0ZqQixFQUFXaUIsRUFFZixDQUNGLENEM0lpQ3BILE1DcUxqQzBGLEVBQWVPLGlCQUFpQixRQUFTLEtBQ3ZDRSxFQUFXWCxLQUdiRyxFQUFnQk0saUJBQWlCLFFBQVMsS0FDeENFLEVBQVdYLEtBR2JDLEVBQVdRLGlCQUFpQixTQTNCNUIsU0FBNEJpQixHQUMxQkEsRUFBSUcsaUJBRUosTUFBTUMsRUFBZUosRUFBSUssVUFDekJELEVBQWFoSCxZQUFjLGNBRTNCVSxFQUNHK0IsV0FBV1csR0FDWDFCLEtBQUssS0FDSnlCLEVBQWFwRCxTQUNiOEYsRUFBV1gsS0FFWnBCLE1BQU1DLFFBQVFDLE9BQ2RrRCxRQUFRLEtBQ1BGLEVBQWFoSCxZQUFjLFVBRWpDLEdBY0FpRSxFQUFrQjBCLGlCQUFpQixRQUFTLEtBQzFDdEIsRUFBcUI4QyxNQUFRckUsRUFBbUI5QyxZQUNoRHNFLEVBQTRCNkMsTUFBUW5FLEVBQTBCaEQsWUFHOUQsTUFBTW9ILEVBQVdsRCxFQUFpQnRFLGNBQWMsZ0JBQzFDTSxFQUFZbUgsTUFBTUMsS0FDdEJGLEVBQVNHLGlCQUFpQnZJLEVBQVNFLGdCRDdMUnNJLEVBQUNoSSxFQUFhVSxFQUFXUixLQUN0RFEsRUFBVXNELFFBQVMvRCxJQUNqQkYsRUFBZUMsRUFBYUMsRUFBY0MsTUM2TDVDOEgsQ0FBZ0JKLEVBQVVsSCxFQUFXbEIsR0FFckN5RyxFQUFVdkIsS0FHWkMsRUFBb0J3QixpQkFBaUIsUUFBUyxXQUM1Q0UsRUFBVzNCLEVBQ2IsR0FFQUUsRUFBZ0J1QixpQkFBaUIsU0E5SGpDLFNBQWlDaUIsR0FDL0JBLEVBQUlHLGlCQUVKLE1BQU1DLEVBQWVKLEVBQUlLLFVBQ3pCRCxFQUFhaEgsWUFBYyxZQUUzQlUsRUFDR29CLGFBQWEsQ0FDWkMsS0FBTXNDLEVBQXFCOEMsTUFDM0JuRixNQUFPc0MsRUFBNEI2QyxRQUdwQ3pGLEtBQU1zRSxJQUNMbEQsRUFBbUI5QyxZQUFjZ0csRUFBS2pFLEtBQ3RDaUIsRUFBMEJoRCxZQUFjZ0csRUFBS2hFLE1BQzdDNkQsRUFBVzNCLEtBRVpKLE1BQU1DLFFBQVFDLE9BQ2RrRCxRQUFRLEtBQ1BGLEVBQWFoSCxZQUFjLFFBRWpDLEdBNEdBK0UsRUFBYVksaUJBQWlCLFFBQVMsS0FDckNGLEVBQVVkLEtBR1pHLEVBQWVhLGlCQUFpQixRQUFTLEtBQ3ZDRSxFQUFXbEIsS0FHYkMsRUFBV2UsaUJBQWlCLFNBL0U1QixTQUE0QmlCLEdBQzFCQSxFQUFJRyxpQkFFSixNQUFNQyxFQUFlSixFQUFJSyxVQUN6QkQsRUFBYWhILFlBQWMsWUFFM0JVLEVBQ0cyQixXQUFXd0MsRUFBWXNDLE9BQ3ZCekYsS0FBTXNFLElBQ0wvQyxFQUFjTSxJQUFNeUMsRUFBSzFELE9BQ3pCdUQsRUFBV2xCLEdBQ1hpQyxFQUFJYSxPQUFPQyxVQUVaNUQsTUFBTUMsUUFBUUMsT0FDZGtELFFBQVEsS0FDUEYsRUFBYWhILFlBQWMsUUFFakMsR0FpRUF1RSxFQUFjb0IsaUJBQWlCLFFBQVMsV0FDdENGLEVBQVVqQixFQUNaLEdBRUFDLEVBQWdCa0IsaUJBQWlCLFFBQVMsV0FDeENFLEVBQVdyQixFQUNiLEdBRUFFLEVBQVlpQixpQkFBaUIsU0E3SDdCLFNBQTZCaUIsR0FDM0JBLEVBQUlHLGlCQUVKLE1BQU1DLEVBQWVKLEVBQUlLLFVBQ3pCRCxFQUFhaEgsWUFBYyxZQUUzQlUsRUFDRzZCLFFBQVEsQ0FDUFIsS0FBTWlELEVBQWVtQyxNQUNyQjNFLEtBQU15QyxFQUFpQmtDLFFBRXhCekYsS0FBTStCLElBQ0wsTUFBTUMsRUFBY0MsRUFBZUYsR0R2R1prRSxJQUFDeEgsRUFBZVQsRUN3R3ZDa0UsRUFBaUJnRSxRQUFRbEUsR0FDekJrRCxFQUFJYSxPQUFPQyxRRHpHNEJoSSxFQzBHSlYsR0QxR1htQixFQzBHVitDLEdEekdKekMsVUFBVyxFQUN6Qk4sRUFBY0wsVUFBVVUsSUFBSWQsRUFBT04scUJDeUcvQnlHLEVBQVdyQixLQUVaVixNQUFNQyxRQUFRQyxPQUNka0QsUUFBUSxLQUNQRixFQUFhaEgsWUFBYyxVQUVqQyxHQXlHZStDLFNBQVN3RSxpQkFBaUIsVUFFbEMvRCxRQUFTa0MsSUFDZEEsRUFBTUMsaUJBQWlCLFFBQVVpQixJQUMzQkEsRUFBSWEsU0FBVy9CLEdBQ2pCRyxFQUFXSCxPRC9PZ0JoRyxFQ29QaEJWLEVEblBFcUksTUFBTUMsS0FBS3ZFLFNBQVN3RSxpQkFBaUI3SCxFQUFPVCxlQUNwRHVFLFFBQVNoRSxJQUNoQkEsRUFBWW1HLGlCQUFpQixTQUFXaUIsSUFDdENBLEVBQUlHLG1CQXBCZ0JjLEVBQUNySSxFQUFhRSxLQUN0QyxNQUFNUSxFQUFZbUgsTUFBTUMsS0FDdEI5SCxFQUFZK0gsaUJBQWlCN0gsRUFBT1IsZ0JBRWhDaUIsRUFBZ0JYLEVBQVlJLGNBQWNGLEVBQU9QLHNCQUV2RGMsRUFBa0JDLEVBQVdDLEVBQWVULEdBRTVDUSxFQUFVc0QsUUFBUy9ELElBQ2pCQSxFQUFha0csaUJBQWlCLFFBQVMsS0F0Q2hCbUMsRUFBQ3RJLEVBQWFDLEVBQWNDLEtBQ2hERCxFQUFhWSxTQUFTQyxNQVF6QmYsRUFBZUMsRUFBYUMsRUFBY0MsR0F2QnZCcUksRUFBQ3ZJLEVBQWFDLEVBQWN1SSxFQUFjdEksS0FDL0QsTUFBTUMsRUFBZUgsRUFBWUksY0FBYyxJQUFJSCxFQUFhSSxZQUNoRUosRUFBYUssVUFBVVUsSUFBSWQsRUFBT0wsaUJBQ2xDTSxFQUFhSyxZQUFjZ0ksRUFDM0JySSxFQUFhRyxVQUFVVSxJQUFJZCxFQUFPSixhQVloQ3lJLENBQ0V2SSxFQUNBQyxFQUNBQSxFQUFhd0ksa0JBQ2J2SSxJQWlDQW9JLENBQW1CdEksRUFBYUMsRUFBY0MsR0FDOUNPLEVBQWtCQyxFQUFXQyxFQUFlVCxRQVc5Q21JLENBQWtCckksRUFBYUUsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvc2NyaXB0cy92YWxpZGF0aW9uLmpzIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy91dGlscy9BcGkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbmNvbnN0IHNob3dJbnB1dEVycm9yID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmVycm9yQ2xhc3MpO1xufTtcblxuY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5lcnJvckNsYXNzKTtcbiAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbn07XG5cbmNvbnN0IGNoZWNrSW5wdXRWYWxpZGl0eSA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpID0+IHtcbiAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICBzaG93SW5wdXRFcnJvcihcbiAgICAgIGZvcm1FbGVtZW50LFxuICAgICAgaW5wdXRFbGVtZW50LFxuICAgICAgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlLFxuICAgICAgY29uZmlnXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpO1xuICB9XG59O1xuXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XG4gIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gIH0pO1xufTtcblxuY29uc3QgdG9nZ2xlQnV0dG9uU3RhdGUgPSAoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpID0+IHtcbiAgaWYgKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxufTtcblxuY29uc3Qgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoZm9ybUVsZW1lbnQsIGNvbmZpZykgPT4ge1xuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgIGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpXG4gICk7XG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xuXG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgIGNoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpO1xuICAgICAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICBzZXRFdmVudExpc3RlbmVycyhmb3JtRWxlbWVudCwgY29uZmlnKTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVzZXRWYWxpZGF0aW9uID0gKGZvcm1FbGVtZW50LCBpbnB1dExpc3QsIGNvbmZpZykgPT4ge1xuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGlzYWJsZUJ1dHRvbiA9IChidXR0b25FbGVtZW50LCBjb25maWcpID0+IHtcbiAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG59O1xuIiwiaW1wb3J0IEFwaSBmcm9tIFwiLi4vdXRpbHMvQXBpLmpzXCI7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcImE1MTJjNjYwLTY5OTItNGYwYS04NzFlLWY2YzI5MTIyN2JkNlwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbmltcG9ydCB7XG4gIHNldHRpbmdzLFxuICBlbmFibGVWYWxpZGF0aW9uLFxuICByZXNldFZhbGlkYXRpb24sXG4gIGRpc2FibGVCdXR0b24sXG59IGZyb20gXCIuLi9zY3JpcHRzL3ZhbGlkYXRpb24uanNcIjtcblxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmNvbnN0IHByb2ZpbGVOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiXG4pO1xuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xuXG5jb25zdCBuZXdQb3N0U3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIjbmV3LXBvc3QtbW9kYWwgLm1vZGFsX19idXR0b25cIlxuKTtcblxubGV0IHNlbGVjdGVkQ2FyZDtcbmxldCBzZWxlY3RlZENhcmRJZDtcblxuLy8gSW5pdGlhbCBEYXRhIEZldGNoaW5nXG5hcGlcbiAgLmdldEFwcEluZm8oKVxuICAudGhlbigoW3VzZXJJbmZvLCBjYXJkc10pID0+IHtcbiAgICBwcm9maWxlTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSB1c2VySW5mby5uYW1lO1xuICAgIHByb2ZpbGVEZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSB1c2VySW5mby5hYm91dDtcbiAgICBwcm9maWxlQXZhdGFyLnNyYyA9IHVzZXJJbmZvLmF2YXRhcjtcblxuICAgIGNhcmRzLmZvckVhY2goKGNhcmREYXRhKSA9PiB7XG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KGNhcmREYXRhKTtcbiAgICAgIGNhcmRzTGlzdEVsZW1lbnQuYXBwZW5kKGNhcmRFbGVtZW50KTtcbiAgICB9KTtcbiAgfSlcbiAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuXG4vLyBFZGl0IFByb2ZpbGUgTW9kYWwgRWxlbWVudHNcbmNvbnN0IGVkaXRQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcbmNvbnN0IGVkaXRQcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZS1tb2RhbFwiKTtcbmNvbnN0IGVkaXRQcm9maWxlQ2xvc2VCdG4gPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLm1vZGFsX19jbG9zZS1idXR0b25cIlxuKTtcbmNvbnN0IGVkaXRQcm9maWxlRm9ybSA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmNvbnN0IGVkaXRQcm9maWxlTmFtZUlucHV0ID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIiNwcm9maWxlLW5hbWUtaW5wdXRcIlxuKTtcbmNvbnN0IGVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiXG4pO1xuXG4vLyBOZXcgUG9zdCBNb2RhbCBFbGVtZW50c1xuY29uc3QgbmV3UG9zdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcbmNvbnN0IG5ld1Bvc3RNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3LXBvc3QtbW9kYWxcIik7XG5jb25zdCBuZXdQb3N0Q2xvc2VCdG4gPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCIpO1xuY29uc3QgbmV3UG9zdEZvcm0gPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmNvbnN0IGF2YXRhck1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItbW9kYWxcIik7XG5jb25zdCBhdmF0YXJGb3JtID0gYXZhdGFyTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmNvbnN0IGF2YXRhcklucHV0ID0gYXZhdGFyTW9kYWwucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItaW5wdXRcIik7XG5jb25zdCBhdmF0YXJDbG9zZUJ0biA9IGF2YXRhck1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ1dHRvblwiKTtcbmNvbnN0IGF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWJ1dHRvblwiKTtcbmNvbnN0IGNhcmRJbWFnZUlucHV0ID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1pbWFnZS1pbnB1dFwiKTtcbmNvbnN0IGNhcmRDYXB0aW9uSW5wdXQgPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNjYXJkLWNhcHRpb24taW5wdXRcIik7XG5jb25zdCBkZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLW1vZGFsXCIpO1xuY29uc3QgZGVsZXRlRm9ybSA9IGRlbGV0ZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG5jb25zdCBkZWxldGVDbG9zZUJ0biA9IGRlbGV0ZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ1dHRvblwiKTtcbmNvbnN0IGRlbGV0ZUNhbmNlbEJ0biA9IGRlbGV0ZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvbl90eXBlX2NhbmNlbFwiKTtcblxuLy8gUHJldmlldyBNb2RhbCBFbGVtZW50c1xuY29uc3QgcHJldmlld01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmV2aWV3LW1vZGFsXCIpO1xuY29uc3QgcHJldmlld0ltYWdlID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xuY29uc3QgcHJldmlld0NhcHRpb24gPSBwcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2FwdGlvblwiKTtcbmNvbnN0IHByZXZpZXdDbG9zZUJ0biA9IHByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idXR0b25cIik7XG5cbmZ1bmN0aW9uIG9wZW5Nb2RhbChtb2RhbCkge1xuICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfaXMtb3BlbmVkXCIpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVFc2NhcGVLZXkpO1xufVxuXG5mdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9pcy1vcGVuZWRcIik7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZUtleSk7XG59XG5cbi8vIFByZXZpZXcgTW9kYWwgRXZlbnQgTGlzdGVuZXJcbnByZXZpZXdDbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjbG9zZU1vZGFsKHByZXZpZXdNb2RhbCk7XG59KTtcblxuLy8gQ2FyZCBUZW1wbGF0ZSBhbmQgQ29udGFpbmVyXG5jb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIik7XG5jb25zdCBjYXJkc0xpc3RFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcblxuZnVuY3Rpb24gZ2V0Q2FyZEVsZW1lbnQoZGF0YSkge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKS5jaGlsZHJlblswXTtcblxuICAvLyBjbG9uZWQgY2FyZCBlbGVtZW50cyBzZWxlY3RcbiAgY29uc3QgY2FyZEltYWdlRWxlbWVudCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gIGNvbnN0IGNhcmRUaXRsZUVsZW1lbnQgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xuICBjb25zdCBjYXJkTGlrZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG4gIGNvbnN0IGNhcmREZWxldGVCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIik7XG5cbiAgLy8gU2V0IGNhcmQgZGF0YVxuICBjYXJkSW1hZ2VFbGVtZW50LnNyYyA9IGRhdGEubGluaztcbiAgY2FyZEltYWdlRWxlbWVudC5hbHQgPSBkYXRhLm5hbWU7XG4gIGNhcmRUaXRsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG5cbiAgLy8gbGlrZSBidXR0b24gZnVuY3Rpb25hbGl0eVxuICBpZiAoZGF0YS5pc0xpa2VkKSB7XG4gICAgY2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2xpa2VkXCIpO1xuICB9XG5cbiAgY2FyZExpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBjb25zdCBpc0xpa2VkID0gY2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFxuICAgICAgXCJjYXJkX19saWtlLWJ1dHRvbl9saWtlZFwiXG4gICAgKTtcblxuICAgIGFwaVxuICAgICAgLmNoYW5nZUxpa2VTdGF0dXMoZGF0YS5faWQsIGlzTGlrZWQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9saWtlZFwiKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gIH0pO1xuXG4gIC8vIGRlbGV0ZSBidXR0b24gZnVuY3Rpb25hbGl0eVxuICBjYXJkRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgc2VsZWN0ZWRDYXJkID0gY2FyZEVsZW1lbnQ7XG4gICAgc2VsZWN0ZWRDYXJkSWQgPSBkYXRhLl9pZDtcbiAgICBvcGVuTW9kYWwoZGVsZXRlTW9kYWwpO1xuICB9KTtcblxuICAvLyBBZGQgaW1hZ2UgY2xpY2sgZm9yIHByZXZpZXcgbW9kYWwgZnVuY3Rpb25hbGl0eVxuICBjYXJkSW1hZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgcHJldmlld0ltYWdlLnNyYyA9IGRhdGEubGluaztcbiAgICBwcmV2aWV3SW1hZ2UuYWx0ID0gZGF0YS5uYW1lO1xuICAgIHByZXZpZXdDYXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIG9wZW5Nb2RhbChwcmV2aWV3TW9kYWwpO1xuICB9KTtcblxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59XG4vLyBGdW5jdGlvbiBEZWZpbml0aW9uc1xuZnVuY3Rpb24gaGFuZGxlRWRpdFByb2ZpbGVTdWJtaXQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGV2dC5zdWJtaXR0ZXI7XG4gIHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XG5cbiAgYXBpXG4gICAgLmVkaXRVc2VySW5mbyh7XG4gICAgICBuYW1lOiBlZGl0UHJvZmlsZU5hbWVJbnB1dC52YWx1ZSxcbiAgICAgIGFib3V0OiBlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUsXG4gICAgfSlcblxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBwcm9maWxlTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgICBwcm9maWxlRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcbiAgICAgIGNsb3NlTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTmV3UG9zdFN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgY29uc3Qgc3VibWl0QnV0dG9uID0gZXZ0LnN1Ym1pdHRlcjtcbiAgc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcblxuICBhcGlcbiAgICAuYWRkQ2FyZCh7XG4gICAgICBuYW1lOiBjYXJkSW1hZ2VJbnB1dC52YWx1ZSxcbiAgICAgIGxpbms6IGNhcmRDYXB0aW9uSW5wdXQudmFsdWUsXG4gICAgfSlcbiAgICAudGhlbigoY2FyZERhdGEpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZ2V0Q2FyZEVsZW1lbnQoY2FyZERhdGEpO1xuICAgICAgY2FyZHNMaXN0RWxlbWVudC5wcmVwZW5kKGNhcmRFbGVtZW50KTtcbiAgICAgIGV2dC50YXJnZXQucmVzZXQoKTtcbiAgICAgIGRpc2FibGVCdXR0b24obmV3UG9zdFN1Ym1pdEJ1dHRvbiwgc2V0dGluZ3MpO1xuICAgICAgY2xvc2VNb2RhbChuZXdQb3N0TW9kYWwpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJDcmVhdGVcIjtcbiAgICB9KTtcbn1cblxuLy8gSGFuZGxlIEVzY2FwZSBrZXkgcHJlc3NcbmZ1bmN0aW9uIGhhbmRsZUVzY2FwZUtleShldnQpIHtcbiAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICBjb25zdCBvcGVuZWRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfaXMtb3BlbmVkXCIpO1xuICAgIGlmIChvcGVuZWRNb2RhbCkge1xuICAgICAgY2xvc2VNb2RhbChvcGVuZWRNb2RhbCk7XG4gICAgfVxuICB9XG59XG5cbi8vSGFuZGxlIGF2YXRhciBmb3JtIHN1Ym1pc3Npb25cbmZ1bmN0aW9uIGhhbmRsZUF2YXRhclN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgY29uc3Qgc3VibWl0QnV0dG9uID0gZXZ0LnN1Ym1pdHRlcjtcbiAgc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcblxuICBhcGlcbiAgICAuZWRpdEF2YXRhcihhdmF0YXJJbnB1dC52YWx1ZSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgcHJvZmlsZUF2YXRhci5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgICAgIGNsb3NlTW9kYWwoYXZhdGFyTW9kYWwpO1xuICAgICAgZXZ0LnRhcmdldC5yZXNldCgpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XG4gICAgfSk7XG59XG5cbi8vIERlbGV0ZSBmdW5jdGlvbmFsaXR5XG5mdW5jdGlvbiBoYW5kbGVEZWxldGVTdWJtaXQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGV2dC5zdWJtaXR0ZXI7XG4gIHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiRGVsZXRpbmcuLi5cIjtcblxuICBhcGlcbiAgICAuZGVsZXRlQ2FyZChzZWxlY3RlZENhcmRJZClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBzZWxlY3RlZENhcmQucmVtb3ZlKCk7XG4gICAgICBjbG9zZU1vZGFsKGRlbGV0ZU1vZGFsKTtcbiAgICB9KVxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiRGVsZXRlXCI7XG4gICAgfSk7XG59XG5cbi8vIERlbGV0ZSBNb2RhbCBFdmVudCBMaXN0ZW5lcnNcbmRlbGV0ZUNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNsb3NlTW9kYWwoZGVsZXRlTW9kYWwpO1xufSk7XG5cbmRlbGV0ZUNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjbG9zZU1vZGFsKGRlbGV0ZU1vZGFsKTtcbn0pO1xuXG5kZWxldGVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlRGVsZXRlU3VibWl0KTtcblxuLy8gRWRpdCBQcm9maWxlIE1vZGFsIEV2ZW50IExpc3RlbmVyc1xuZWRpdFByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgZWRpdFByb2ZpbGVOYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlTmFtZUVsZW1lbnQudGV4dENvbnRlbnQ7XG4gIGVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHByb2ZpbGVEZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQ7XG5cbiAgLy8gUmVzZXQgdmFsaWRhdGlvblxuICBjb25zdCBlZGl0Rm9ybSA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICBlZGl0Rm9ybS5xdWVyeVNlbGVjdG9yQWxsKHNldHRpbmdzLmlucHV0U2VsZWN0b3IpXG4gICk7XG4gIHJlc2V0VmFsaWRhdGlvbihlZGl0Rm9ybSwgaW5wdXRMaXN0LCBzZXR0aW5ncyk7XG5cbiAgb3Blbk1vZGFsKGVkaXRQcm9maWxlTW9kYWwpO1xufSk7XG5cbmVkaXRQcm9maWxlQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgY2xvc2VNb2RhbChlZGl0UHJvZmlsZU1vZGFsKTtcbn0pO1xuXG5lZGl0UHJvZmlsZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVFZGl0UHJvZmlsZVN1Ym1pdCk7XG5cbi8vIEF2YXRhciBNb2RhbCBFdmVudCBMaXN0ZW5lcnNcbmF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBvcGVuTW9kYWwoYXZhdGFyTW9kYWwpO1xufSk7XG5cbmF2YXRhckNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNsb3NlTW9kYWwoYXZhdGFyTW9kYWwpO1xufSk7XG5cbmF2YXRhckZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVBdmF0YXJTdWJtaXQpO1xuXG4vLyBOZXcgUG9zdCBNb2RhbCBFdmVudCBMaXN0ZW5lcnNcbm5ld1Bvc3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgb3Blbk1vZGFsKG5ld1Bvc3RNb2RhbCk7XG59KTtcblxubmV3UG9zdENsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIGNsb3NlTW9kYWwobmV3UG9zdE1vZGFsKTtcbn0pO1xuXG5uZXdQb3N0Rm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZU5ld1Bvc3RTdWJtaXQpO1xuXG5jb25zdCBtb2RhbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsXCIpO1xuXG5tb2RhbHMuZm9yRWFjaCgobW9kYWwpID0+IHtcbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gbW9kYWwpIHtcbiAgICAgIGNsb3NlTW9kYWwobW9kYWwpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5ncyk7XG4iLCJjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgX2hhbmRsZVNlcnZlclJlc3BvbnNlKHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cblxuICBnZXRBcHBJbmZvKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRVc2VySW5mbygpLCB0aGlzLmdldEluaXRpYWxDYXJkcygpXSk7XG4gIH1cblxuICBlZGl0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBhYm91dCB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gIGVkaXRBdmF0YXIoYXZhdGFyKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyIH0pLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG4gIGFkZENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgbGluayB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cblxuICBjaGFuZ2VMaWtlU3RhdHVzKGNhcmRJZCwgaXNMaWtlZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IGlzTGlrZWQgPyBcIkRFTEVURVwiIDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBpO1xuLy8gRW5kIG9mIHNyYy91dGlscy9BcGkuanNcbiJdLCJuYW1lcyI6WyJzZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiaGlkZUlucHV0RXJyb3IiLCJmb3JtRWxlbWVudCIsImlucHV0RWxlbWVudCIsImNvbmZpZyIsImVycm9yRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpZCIsImNsYXNzTGlzdCIsInJlbW92ZSIsInRleHRDb250ZW50IiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJpbnB1dExpc3QiLCJidXR0b25FbGVtZW50Iiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJoYXNJbnZhbGlkSW5wdXQiLCJhZGQiLCJkaXNhYmxlZCIsImFwaSIsImNvbnN0cnVjdG9yIiwiYmFzZVVybCIsImhlYWRlcnMiLCJ0aGlzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsIl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsInRoZW4iLCJnZXRVc2VySW5mbyIsImdldEFwcEluZm8iLCJhbGwiLCJlZGl0VXNlckluZm8iLCJuYW1lIiwiYWJvdXQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImVkaXRBdmF0YXIiLCJhdmF0YXIiLCJhZGRDYXJkIiwibGluayIsImRlbGV0ZUNhcmQiLCJjYXJkSWQiLCJjaGFuZ2VMaWtlU3RhdHVzIiwiaXNMaWtlZCIsImF1dGhvcml6YXRpb24iLCJwcm9maWxlTmFtZUVsZW1lbnQiLCJkb2N1bWVudCIsInByb2ZpbGVEZXNjcmlwdGlvbkVsZW1lbnQiLCJwcm9maWxlQXZhdGFyIiwibmV3UG9zdFN1Ym1pdEJ1dHRvbiIsInNlbGVjdGVkQ2FyZCIsInNlbGVjdGVkQ2FyZElkIiwidXNlckluZm8iLCJjYXJkcyIsInNyYyIsImZvckVhY2giLCJjYXJkRGF0YSIsImNhcmRFbGVtZW50IiwiZ2V0Q2FyZEVsZW1lbnQiLCJjYXJkc0xpc3RFbGVtZW50IiwiYXBwZW5kIiwiY2F0Y2giLCJjb25zb2xlIiwiZXJyb3IiLCJlZGl0UHJvZmlsZUJ1dHRvbiIsImVkaXRQcm9maWxlTW9kYWwiLCJlZGl0UHJvZmlsZUNsb3NlQnRuIiwiZWRpdFByb2ZpbGVGb3JtIiwiZWRpdFByb2ZpbGVOYW1lSW5wdXQiLCJlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJuZXdQb3N0QnV0dG9uIiwibmV3UG9zdE1vZGFsIiwibmV3UG9zdENsb3NlQnRuIiwibmV3UG9zdEZvcm0iLCJhdmF0YXJNb2RhbCIsImF2YXRhckZvcm0iLCJhdmF0YXJJbnB1dCIsImF2YXRhckNsb3NlQnRuIiwiYXZhdGFyQnV0dG9uIiwiY2FyZEltYWdlSW5wdXQiLCJjYXJkQ2FwdGlvbklucHV0IiwiZGVsZXRlTW9kYWwiLCJkZWxldGVGb3JtIiwiZGVsZXRlQ2xvc2VCdG4iLCJkZWxldGVDYW5jZWxCdG4iLCJwcmV2aWV3TW9kYWwiLCJwcmV2aWV3SW1hZ2UiLCJwcmV2aWV3Q2FwdGlvbiIsIm9wZW5Nb2RhbCIsIm1vZGFsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUVzY2FwZUtleSIsImNsb3NlTW9kYWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2FyZFRlbXBsYXRlIiwiZGF0YSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJjaGlsZHJlbiIsImNhcmRJbWFnZUVsZW1lbnQiLCJjYXJkVGl0bGVFbGVtZW50IiwiY2FyZExpa2VCdXR0b24iLCJjYXJkRGVsZXRlQnV0dG9uIiwiYWx0IiwiY29udGFpbnMiLCJfaWQiLCJ0b2dnbGUiLCJldnQiLCJrZXkiLCJvcGVuZWRNb2RhbCIsInByZXZlbnREZWZhdWx0Iiwic3VibWl0QnV0dG9uIiwic3VibWl0dGVyIiwiZmluYWxseSIsInZhbHVlIiwiZWRpdEZvcm0iLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwicmVzZXRWYWxpZGF0aW9uIiwidGFyZ2V0IiwicmVzZXQiLCJkaXNhYmxlQnV0dG9uIiwicHJlcGVuZCIsInNldEV2ZW50TGlzdGVuZXJzIiwiY2hlY2tJbnB1dFZhbGlkaXR5Iiwic2hvd0lucHV0RXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJ2YWxpZGF0aW9uTWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=